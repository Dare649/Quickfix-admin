import{j as e,Z as g,$ as d,B as j,T as u,r as l,a0 as w,K as F,I as x,a1 as S,P as N,O as $,Q as C,R as f,a2 as L,a3 as D,a4 as E,a5 as H,X as W,a6 as v,o as M,q as z,C as B,a7 as K,a8 as U,a9 as G,aa as P,ab as Q,ac as V,H as Y,t as q}from"./index-OkOCVtyy.js";function X({searchQuery:s,...t}){return e.jsx(g,{...t,children:e.jsx(d,{align:"center",colSpan:7,children:e.jsxs(j,{sx:{py:15,textAlign:"center"},children:[e.jsx(u,{variant:"h6",sx:{mb:1},children:"Not found"}),e.jsxs(u,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',s,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}function Z({emptyRows:s,height:t,sx:n,...a}){return s?e.jsx(g,{sx:{...t&&{height:t*s},...n},...a,children:e.jsx(d,{colSpan:9})}):null}function J({row:s,selected:t,onSelectRow:n}){const[a,i]=l.useState(null),c=l.useCallback(o=>{i(o.currentTarget)},[]),r=l.useCallback(()=>{i(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(g,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,children:[e.jsx(d,{padding:"checkbox",children:e.jsx(w,{disableRipple:!0,checked:t,onChange:n})}),e.jsx(d,{component:"th",scope:"row",children:e.jsxs(j,{gap:2,display:"flex",alignItems:"center",children:[e.jsx(F,{alt:s.name,src:s.photoUrl}),`${s.first_name} ${s.last_name}`]})}),e.jsx(d,{children:s.email_address}),e.jsx(d,{children:s.international_phone_format}),e.jsx(d,{children:(s==null?void 0:s.dob)&&new Date(s==null?void 0:s.dob).toLocaleDateString("en-US")}),e.jsx(d,{align:"center",children:s.is_email_verified?e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"success.main"}}):"-"}),e.jsx(d,{align:"center",children:s.is_profile_set?e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"success.main"}}):e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"warning.main"}})}),e.jsx(d,{align:"right",children:e.jsx(S,{onClick:c,children:e.jsx(x,{icon:"eva:more-vertical-fill"})})})]}),e.jsx(N,{open:!!a,anchorEl:a,onClose:r,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsxs($,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${C.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${C.selected}`]:{bgcolor:"action.selected"}}},children:[e.jsxs(f,{onClick:r,children:[e.jsx(x,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(f,{onClick:r,sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:trash-bin-trash-bold"}),"Suspend"]}),e.jsxs(f,{onClick:r,sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:chat-bold"}),"Message"]})]})})]})}const ee={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function se(s,t,n){return s?Math.max(0,(1+s)*t-n):0}function k(s,t,n){return t[n]<s[n]?-1:t[n]>s[n]?1:0}function ne(s,t){return s==="desc"?(n,a)=>k(n,a,t):(n,a)=>-k(n,a,t)}function te({inputData:s,comparator:t,filterName:n}){const a=s.map((i,c)=>[i,c]);return a.sort((i,c)=>{const r=t(i[0],c[0]);return r!==0?r:i[1]-c[1]}),s=a.map(i=>i[0]),n&&(s=s.filter(i=>`${i.first_name} ${i.last_name}`.toLowerCase().indexOf(n.toLowerCase())!==-1)),s}function ae({order:s,onSort:t,orderBy:n,rowCount:a,headLabel:i,numSelected:c,onSelectAllRows:r}){return e.jsx(L,{children:e.jsxs(g,{children:[e.jsx(d,{padding:"checkbox",children:e.jsx(w,{indeterminate:c>0&&c<a,checked:a>0&&c===a,onChange:o=>r(o.target.checked)})}),i.map(o=>e.jsx(d,{align:o.align||"left",sortDirection:n===o.id?s:!1,sx:{width:o.width,minWidth:o.minWidth},children:e.jsxs(D,{hideSortIcon:!0,active:n===o.id,direction:n===o.id?s:"asc",onClick:()=>t(o.id),children:[o.label,n===o.id?e.jsx(j,{sx:{...ee},children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},o.id))]})})}function re({numSelected:s,filterName:t,onFilterName:n}){return e.jsxs(E,{sx:{height:96,display:"flex",justifyContent:"space-between",p:a=>a.spacing(0,1,0,3),...s>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[s>0?e.jsxs(u,{component:"div",variant:"subtitle1",children:[s," selected"]}):e.jsx(H,{fullWidth:!0,value:t,onChange:n,placeholder:"Search user...",startAdornment:e.jsx(W,{position:"start",children:e.jsx(x,{width:20,icon:"eva:search-fill",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),s>0?e.jsx(v,{title:"Delete",children:e.jsx(S,{children:e.jsx(x,{icon:"solar:trash-bin-trash-bold"})})}):e.jsx(v,{title:"Filter list",children:e.jsx(S,{children:e.jsx(x,{icon:"ic:round-filter-list"})})})]})}function oe(){const s=ie(),[t,n]=l.useState(""),{users:a}=M(r=>r.user),i=te({inputData:a==null?void 0:a.data,comparator:ne(s.order,s.orderBy),filterName:t}),c=!i.length&&!!t;return e.jsxs(z,{children:[e.jsx(j,{display:"flex",alignItems:"center",mb:5,children:e.jsx(u,{variant:"h4",flexGrow:1,children:"Support"})}),e.jsxs(B,{children:[e.jsx(re,{numSelected:s.selected.length,filterName:t,onFilterName:r=>{n(r.target.value),s.onResetPage()}}),e.jsx(K,{children:e.jsx(U,{sx:{overflow:"unset"},children:e.jsxs(G,{sx:{minWidth:800},children:[e.jsx(ae,{order:s.order,orderBy:s.orderBy,rowCount:P.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:r=>s.onSelectAllRows(r,P.map(o=>o.id)),headLabel:[{id:"name",label:"Name"},{id:"email_address",label:"Email Address"},{id:"phone_number",label:"Phone Number"},{id:"dob",label:"DOB"},{id:"isVerified",label:"Verified",align:"center"},{id:"isKYC",label:"KYC Status",align:"center"},{id:""}]}),e.jsxs(Q,{children:[i.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map(r=>e.jsx(J,{row:r,selected:s.selected.includes(r.id),onSelectRow:()=>s.onSelectRow(r.id)},r.id)),e.jsx(Z,{height:68,emptyRows:se(s.page,s.rowsPerPage,P.length)}),c&&e.jsx(X,{searchQuery:t})]})]})})}),e.jsx(V,{component:"div",page:s.page,count:a==null?void 0:a.totalItems,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:s.onChangeRowsPerPage})]})]})}function ie(){const[s,t]=l.useState(0),[n,a]=l.useState("name"),[i,c]=l.useState(5),[r,o]=l.useState([]),[b,T]=l.useState("asc"),R=l.useCallback(h=>{T(n===h&&b==="asc"?"desc":"asc"),a(h)},[b,n]),y=l.useCallback((h,p)=>{if(h){o(p);return}o([])},[]),I=l.useCallback(h=>{const p=r.includes(h)?r.filter(A=>A!==h):[...r,h];o(p)},[r]),m=l.useCallback(()=>{t(0)},[]),_=l.useCallback((h,p)=>{t(p)},[]),O=l.useCallback(h=>{c(parseInt(h.target.value,10)),m()},[m]);return{page:s,order:b,onSort:R,orderBy:n,selected:r,rowsPerPage:i,onSelectRow:I,onResetPage:m,onChangePage:_,onSelectAllRows:y,onChangeRowsPerPage:O}}const ce=()=>(console.log("ds"),e.jsxs(e.Fragment,{children:[e.jsx(Y,{children:e.jsxs("title",{children:[" ",`Users - ${q.appName}`]})}),e.jsx(oe,{})]}));export{ce as default};
