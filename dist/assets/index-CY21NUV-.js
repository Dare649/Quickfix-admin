import{j as e,a4 as u,a5 as d,B as j,T as g,r as l,a7 as w,V as F,I as x,K as S,Y as N,Z as $,$ as C,a0 as f,a8 as L,a9 as D,aa as E,ab as H,a2 as W,ac as v,o as M,p as z,C as B,ad as K,ae as U,af as V,ag as P,ah as Y,ai as G,H as q,q as Q}from"./index-Dyb8Ibl-.js";function Z({searchQuery:s,...a}){return e.jsx(u,{...a,children:e.jsx(d,{align:"center",colSpan:7,children:e.jsxs(j,{sx:{py:15,textAlign:"center"},children:[e.jsx(g,{variant:"h6",sx:{mb:1},children:"Not found"}),e.jsxs(g,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',s,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}function J({emptyRows:s,height:a,sx:n,...t}){return s?e.jsx(u,{sx:{...a&&{height:a*s},...n},...t,children:e.jsx(d,{colSpan:9})}):null}function X({row:s,selected:a,onSelectRow:n}){const[t,i]=l.useState(null),c=l.useCallback(o=>{i(o.currentTarget)},[]),r=l.useCallback(()=>{i(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(u,{hover:!0,tabIndex:-1,role:"checkbox",selected:a,children:[e.jsx(d,{padding:"checkbox",children:e.jsx(w,{disableRipple:!0,checked:a,onChange:n})}),e.jsx(d,{component:"th",scope:"row",children:e.jsxs(j,{gap:2,display:"flex",alignItems:"center",children:[e.jsx(F,{alt:s.name,src:s.photoUrl}),`${s.first_name} ${s.last_name}`]})}),e.jsx(d,{children:s.email_address}),e.jsx(d,{children:s.international_phone_format}),e.jsx(d,{children:(s==null?void 0:s.dob)&&new Date(s==null?void 0:s.dob).toLocaleDateString("en-US")}),e.jsx(d,{align:"center",children:s.is_email_verified?e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"success.main"}}):"-"}),e.jsx(d,{align:"center",children:s.is_profile_set?e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"success.main"}}):e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"warning.main"}})}),e.jsx(d,{align:"right",children:e.jsx(S,{onClick:c,children:e.jsx(x,{icon:"eva:more-vertical-fill"})})})]}),e.jsx(N,{open:!!t,anchorEl:t,onClose:r,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsxs($,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${C.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${C.selected}`]:{bgcolor:"action.selected"}}},children:[e.jsxs(f,{onClick:r,children:[e.jsx(x,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(f,{onClick:r,sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:trash-bin-trash-bold"}),"Suspend"]}),e.jsxs(f,{onClick:r,sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:chat-bold"}),"Message"]})]})})]})}const ee={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function se(s,a,n){return s?Math.max(0,(1+s)*a-n):0}function k(s,a,n){return a[n]<s[n]?-1:a[n]>s[n]?1:0}function ne(s,a){return s==="desc"?(n,t)=>k(n,t,a):(n,t)=>-k(n,t,a)}function ae({inputData:s,comparator:a,filterName:n}){const t=s.map((i,c)=>[i,c]);return t.sort((i,c)=>{const r=a(i[0],c[0]);return r!==0?r:i[1]-c[1]}),s=t.map(i=>i[0]),n&&(s=s.filter(i=>`${i.first_name} ${i.last_name}`.toLowerCase().indexOf(n.toLowerCase())!==-1)),s}function te({order:s,onSort:a,orderBy:n,rowCount:t,headLabel:i,numSelected:c,onSelectAllRows:r}){return e.jsx(L,{children:e.jsxs(u,{children:[e.jsx(d,{padding:"checkbox",children:e.jsx(w,{indeterminate:c>0&&c<t,checked:t>0&&c===t,onChange:o=>r(o.target.checked)})}),i.map(o=>e.jsx(d,{align:o.align||"left",sortDirection:n===o.id?s:!1,sx:{width:o.width,minWidth:o.minWidth},children:e.jsxs(D,{hideSortIcon:!0,active:n===o.id,direction:n===o.id?s:"asc",onClick:()=>a(o.id),children:[o.label,n===o.id?e.jsx(j,{sx:{...ee},children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},o.id))]})})}function re({numSelected:s,filterName:a,onFilterName:n}){return e.jsxs(E,{sx:{height:96,display:"flex",justifyContent:"space-between",p:t=>t.spacing(0,1,0,3),...s>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[s>0?e.jsxs(g,{component:"div",variant:"subtitle1",children:[s," selected"]}):e.jsx(H,{fullWidth:!0,value:a,onChange:n,placeholder:"Search user...",startAdornment:e.jsx(W,{position:"start",children:e.jsx(x,{width:20,icon:"eva:search-fill",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),s>0?e.jsx(v,{title:"Delete",children:e.jsx(S,{children:e.jsx(x,{icon:"solar:trash-bin-trash-bold"})})}):e.jsx(v,{title:"Filter list",children:e.jsx(S,{children:e.jsx(x,{icon:"ic:round-filter-list"})})})]})}function oe(){const s=ie(),[a,n]=l.useState(""),{users:t}=M(r=>r.user),i=ae({inputData:t==null?void 0:t.data,comparator:ne(s.order,s.orderBy),filterName:a}),c=!i.length&&!!a;return e.jsxs(z,{children:[e.jsx(j,{display:"flex",alignItems:"center",mb:5,children:e.jsx(g,{variant:"h4",flexGrow:1,children:"Support"})}),e.jsxs(B,{children:[e.jsx(re,{numSelected:s.selected.length,filterName:a,onFilterName:r=>{n(r.target.value),s.onResetPage()}}),e.jsx(K,{children:e.jsx(U,{sx:{overflow:"unset"},children:e.jsxs(V,{sx:{minWidth:800},children:[e.jsx(te,{order:s.order,orderBy:s.orderBy,rowCount:P.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:r=>s.onSelectAllRows(r,P.map(o=>o.id)),headLabel:[{id:"name",label:"Name"},{id:"email_address",label:"Email Address"},{id:"phone_number",label:"Phone Number"},{id:"dob",label:"DOB"},{id:"isVerified",label:"Verified",align:"center"},{id:"isKYC",label:"KYC Status",align:"center"},{id:""}]}),e.jsxs(Y,{children:[i.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map(r=>e.jsx(X,{row:r,selected:s.selected.includes(r.id),onSelectRow:()=>s.onSelectRow(r.id)},r.id)),e.jsx(J,{height:68,emptyRows:se(s.page,s.rowsPerPage,P.length)}),c&&e.jsx(Z,{searchQuery:a})]})]})})}),e.jsx(G,{component:"div",page:s.page,count:t==null?void 0:t.totalItems,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:s.onChangeRowsPerPage})]})]})}function ie(){const[s,a]=l.useState(0),[n,t]=l.useState("name"),[i,c]=l.useState(5),[r,o]=l.useState([]),[b,T]=l.useState("asc"),y=l.useCallback(h=>{T(n===h&&b==="asc"?"desc":"asc"),t(h)},[b,n]),R=l.useCallback((h,p)=>{if(h){o(p);return}o([])},[]),I=l.useCallback(h=>{const p=r.includes(h)?r.filter(A=>A!==h):[...r,h];o(p)},[r]),m=l.useCallback(()=>{a(0)},[]),_=l.useCallback((h,p)=>{a(p)},[]),O=l.useCallback(h=>{c(parseInt(h.target.value,10)),m()},[m]);return{page:s,order:b,onSort:y,orderBy:n,selected:r,rowsPerPage:i,onSelectRow:I,onResetPage:m,onChangePage:_,onSelectAllRows:R,onChangeRowsPerPage:O}}const ce=()=>(console.log("ds"),e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[" ",`Users - ${Q.appName}`]})}),e.jsx(oe,{})]}));export{ce as default};
