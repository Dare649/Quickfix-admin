import{j as s,a4 as C,a5 as h,B as T,T as S,a6 as N,r as o,a7 as O,V as _,K as I,I as p,Y as $,Z as E,$ as R,a0 as L,a8 as H,a9 as W,aa as D,ab as z,a2 as M,ac as y,o as U,p as B,C as G,ad as q,ae as K,af as Q,ag as k,ah as V,ai as Y,H as Z,q as J}from"./index-Dyb8Ibl-.js";function X({searchQuery:e,...n}){return s.jsx(C,{...n,children:s.jsx(h,{align:"center",colSpan:7,children:s.jsxs(T,{sx:{py:15,textAlign:"center"},children:[s.jsx(S,{variant:"h6",sx:{mb:1},children:"Not found"}),s.jsxs(S,{variant:"body2",children:["No results found for Â ",s.jsxs("strong",{children:['"',e,'"']}),".",s.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}function w({emptyRows:e,height:n,sx:t,...a}){return e?s.jsx(C,{sx:{...n&&{height:n*e},...t},...a,children:s.jsx(h,{colSpan:9})}):null}function ee({row:e,selected:n,onSelectRow:t}){var x,j,m,b,f,u,P,v;const a=N(),[r,c]=o.useState(null),i=o.useCallback(d=>{c(d.currentTarget)},[]),l=o.useCallback(()=>{c(null)},[]);return s.jsxs(s.Fragment,{children:[s.jsxs(C,{hover:!0,tabIndex:-1,role:"checkbox",selected:n,children:[s.jsx(h,{padding:"checkbox",children:s.jsx(O,{disableRipple:!0,checked:n,onChange:t})}),s.jsx(h,{component:"th",scope:"row",children:s.jsxs(T,{gap:2,display:"flex",alignItems:"center",children:[s.jsx(_,{alt:e.name,src:(x=e==null?void 0:e.user)==null?void 0:x.photoUrl}),`${(j=e.user)==null?void 0:j.first_name} ${(m=e==null?void 0:e.user)==null?void 0:m.last_name}`]})}),s.jsx(h,{children:(b=e==null?void 0:e.user)==null?void 0:b.email_address}),s.jsx(h,{children:(f=e==null?void 0:e.user)==null?void 0:f.phone_number}),s.jsx(h,{children:s.jsx("img",{src:(u=e==null?void 0:e.marketplace)==null?void 0:u.images[0],alt:"",width:100})}),s.jsx(h,{children:(P=e==null?void 0:e.marketplace)==null?void 0:P.amount}),s.jsx(h,{children:(v=e==null?void 0:e.marketplace)==null?void 0:v.title}),s.jsx(h,{children:(e==null?void 0:e.createdAt)&&new Date(e==null?void 0:e.createdAt).toLocaleDateString("en-US")}),s.jsx(h,{align:"right",children:s.jsx(I,{onClick:i,children:s.jsx(p,{icon:"eva:more-vertical-fill"})})})]}),s.jsx($,{open:!!r,anchorEl:r,onClose:l,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:s.jsx(E,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${R.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${R.selected}`]:{bgcolor:"action.selected"}}},children:s.jsxs(L,{onClick:()=>{a(`/dashboard/interests/${e==null?void 0:e._id}`,{state:{data:e}})},children:[s.jsx(p,{icon:"solar:eye-bold"}),"View"]})})})]})}const se={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function te(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function A(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function ne(e,n){return e==="desc"?(t,a)=>A(t,a,n):(t,a)=>-A(t,a,n)}function ae({inputData:e,comparator:n,filterName:t}){const a=e.map((r,c)=>[r,c]);return a.sort((r,c)=>{const i=n(r[0],c[0]);return i!==0?i:r[1]-c[1]}),e=a.map(r=>r[0]),t&&(e=e.filter(r=>{var c;return`${(c=r.marketplace)==null?void 0:c.title}`.toLowerCase().indexOf(t.toLowerCase())!==-1})),e}function ie({order:e,onSort:n,orderBy:t,rowCount:a,headLabel:r,numSelected:c,onSelectAllRows:i}){return s.jsx(H,{children:s.jsxs(C,{children:[s.jsx(h,{padding:"checkbox",children:s.jsx(O,{indeterminate:c>0&&c<a,checked:a>0&&c===a,onChange:l=>i(l.target.checked)})}),r.map(l=>s.jsx(h,{align:l.align||"left",sortDirection:t===l.id?e:!1,sx:{width:l.width,minWidth:l.minWidth},children:s.jsxs(W,{hideSortIcon:!0,active:t===l.id,direction:t===l.id?e:"asc",onClick:()=>n(l.id),children:[l.label,t===l.id?s.jsx(T,{sx:{...se},children:e==="desc"?"sorted descending":"sorted ascending"}):null]})},l.id))]})})}function le({numSelected:e,filterName:n,onFilterName:t}){return s.jsxs(D,{sx:{height:96,display:"flex",justifyContent:"space-between",p:a=>a.spacing(0,1,0,3),...e>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[e>0?s.jsxs(S,{component:"div",variant:"subtitle1",children:[e," selected"]}):s.jsx(z,{fullWidth:!0,value:n,onChange:t,placeholder:"Search interest...",startAdornment:s.jsx(M,{position:"start",children:s.jsx(p,{width:20,icon:"eva:search-fill",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),e>0?s.jsx(y,{title:"Delete",children:s.jsx(I,{children:s.jsx(p,{icon:"solar:trash-bin-trash-bold"})})}):s.jsx(y,{title:"Filter list",children:s.jsx(I,{children:s.jsx(p,{icon:"ic:round-filter-list"})})})]})}function re(){const e=ce(),[n,t]=o.useState(""),{interests:a}=U(i=>i.product);console.log("INTERESTS ::: ",a);const r=ae({inputData:(a==null?void 0:a.data)??[],comparator:ne(e.order,e.orderBy),filterName:n}),c=!r.length&&!!n;return s.jsxs(B,{children:[s.jsx(T,{display:"flex",alignItems:"center",mb:5,children:s.jsx(S,{variant:"h4",flexGrow:1,children:"Interests"})}),s.jsxs(G,{children:[s.jsx(le,{numSelected:e.selected.length,filterName:n,onFilterName:i=>{t(i.target.value),e.onResetPage()}}),s.jsx(q,{children:s.jsx(K,{sx:{overflow:"unset"},children:s.jsxs(Q,{sx:{minWidth:800},children:[s.jsx(ie,{order:e.order,orderBy:e.orderBy,rowCount:k.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:i=>e.onSelectAllRows(i,k.map(l=>l.id)),headLabel:[{id:"name",label:"User"},{id:"email_address",label:"Email Address"},{id:"phone_number",label:"Phone"},{id:"image",label:"Product"},{id:"amount",label:"Amount"},{id:"title",label:"Title"},{id:"createdAt",label:"Initiated On"},{id:""}]}),s.jsxs(V,{children:[r.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(i=>s.jsx(ee,{row:i,selected:e.selected.includes(i.id),onSelectRow:()=>e.onSelectRow(i.id)},i.id)),s.jsx(w,{height:68,emptyRows:te(e.page,e.rowsPerPage,k.length)}),c&&s.jsx(X,{searchQuery:n})]})]})})}),s.jsx(Y,{component:"div",page:e.page,count:a==null?void 0:a.totalItems,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:e.onChangeRowsPerPage})]})]})}function ce(){const[e,n]=o.useState(0),[t,a]=o.useState("name"),[r,c]=o.useState(5),[i,l]=o.useState([]),[x,j]=o.useState("asc"),m=o.useCallback(d=>{j(t===d&&x==="asc"?"desc":"asc"),a(d)},[x,t]),b=o.useCallback((d,g)=>{if(d){l(g);return}l([])},[]),f=o.useCallback(d=>{const g=i.includes(d)?i.filter(F=>F!==d):[...i,d];l(g)},[i]),u=o.useCallback(()=>{n(0)},[]),P=o.useCallback((d,g)=>{n(g)},[]),v=o.useCallback(d=>{c(parseInt(d.target.value,10)),u()},[u]);return{page:e,order:x,onSort:m,orderBy:t,selected:i,rowsPerPage:r,onSelectRow:f,onResetPage:u,onChangePage:P,onSelectAllRows:b,onChangeRowsPerPage:v}}function de(){return s.jsxs(s.Fragment,{children:[s.jsx(Z,{children:s.jsxs("title",{children:[" ",`Interest - ${J.appName}`]})}),s.jsx(re,{})]})}export{de as default};
